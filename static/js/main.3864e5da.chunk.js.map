{"version":3,"sources":["MessageContext/MessageContext.js","components/Ws/index.js","MessageContext/MessageProvider.js","components/Container/Container.js","components/Chat/MessageCard.js","components/Chat/ChatContainer.js","components/Video/Video.js","components/Video/VideoContainer.js","components/Chat/InputMessage.js","components/Room/CreateRoom.js","components/Room/JoinRoom.js","components/Room/OptionsMenu.js","components/Room/MenuRoom.js","components/Room/RoomContainer.js","App.js","serviceWorker.js","index.js"],"names":["MessageContext","React","createContext","WebsocketManager","message","roomName","retrieveData","setReadyState","SOCKET_URL","STATIC_OPTIONS","useMemo","onOpen","console","log","share","shouldReconnect","closeEvent","useState","url","setUrl","useWebSocket","sendMessageToSocket","lastMessage","readyState","useEffect","last","JSON","parse","data","intervalID","setInterval","stringify","msg","room","clearInterval","uuidv4","replace","c","r","Math","random","toString","MessageProvider","children","srcVideo","setSrcVideo","time","setTime","current","setCurrent","setRoomName","setMessage","messageHistory","setMessageHistory","useQueryParam","StringParam","queryRoom","retrieveMessage","prev","length","rest","id","retrieveCommand","command","argument","localStorage","setItem","Provider","value","sendMessage","useStyles","makeStyles","container","width","height","display","flexDirection","background","Container","classes","Box","className","avatarContainer","margin","avatar","card","opacity","wordBreak","messageContainer","minWidth","lineHeight","padding","fontSize","color","author","fontWeight","MessageCard","Card","Avatar","Typography","style","overflow","justifyContent","FadeCard","visible","setVisible","setTimeout","when","ChatContainer","messages","useContext","containerRef","useRef","scrollTop","ref","map","key","video","position","Video","lastVideo","setLastVideo","playedSeconds","setPlayedSeconds","player","setPlayer","getItem","seekTo","playing","controls","onProgress","diffTimes","onReady","onPause","onPlay","videoContainer","alignItems","chatContainer","marginLeft","VideoContainer","containerInput","border","borderRadius","emoji","submit","input","validInternCommands","palette","myColor","round","InputMessage","inputMessageRef","submitMessage","inputRef","charCode","trim","split","match","internCommand","includes","commandHandler","IconButton","aria-label","size","InputBase","placeholder","onKeyPress","target","root","fontFamily","icon","box","head","textAlign","body","btn","CreateRoom","close","back","onClick","Button","JoinRoom","button","textTransform","OptionsMenu","create","join","outline","MenuRoom","flag","setFlag","handleBackMenu","modal","RoomContainer","open","setOpen","Modal","App","Boolean","window","location","hostname","ReactDOM","render","StrictMode","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","catch","error"],"mappings":"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","file":"static/js/main.3864e5da.chunk.js","sourcesContent":["import React from 'react';\n\nconst MessageContext = React.createContext({});\n\nexport default MessageContext;\n","import { useState, useEffect, useMemo } from 'react';\nimport useWebSocket from 'react-use-websocket';\n\n\nconst WebsocketManager = ({\n                            message,\n                            roomName,\n                            retrieveData,\n                            setReadyState\n                          }) => {\n  const SOCKET_URL = 'wss://mighty-sea-25999.herokuapp.com/ws?room=';\n  // const SOCKET_URL = 'ws://localhost:8080/ws?room=';\n\n  const STATIC_OPTIONS = useMemo(() => ({\n    onOpen: () => console.log('Connection opened!'),\n    share: true,\n    shouldReconnect: (closeEvent) => true, //Will attempt to reconnect on all close events, such as server shutting down\n  }), []);\n\n  const [url, setUrl] = useState(SOCKET_URL);\n  const [sendMessageToSocket, lastMessage, readyState] = useWebSocket(url, STATIC_OPTIONS);\n\n  useEffect(() => {\n    if (lastMessage !== null) {\n      const last = JSON.parse(lastMessage.data);\n\n      retrieveData(last);\n    }\n  }, [lastMessage]);\n\n  useEffect(() => {\n    if (message) {\n      sendMessageToSocket(message);\n    }\n  }, [message]);\n\n  useEffect(() => {\n    if (readyState === 1) {\n      setReadyState(true);\n    }\n  }, [readyState])\n\n  useEffect(() => {\n    let intervalID;\n    if (roomName) {\n      setUrl(SOCKET_URL + roomName)\n      intervalID = setInterval(() => {\n        sendMessageToSocket(JSON.stringify({ msg: '', room: roomName }));\n      }, 30000);\n    }\n\n    return () => {\n      if (intervalID) clearInterval(intervalID);\n    }\n  }, [roomName]);\n\n\n  return null;\n}\n\nexport default WebsocketManager;\n","import React, { useState, useEffect } from 'react';\nimport { useQueryParam, StringParam } from 'use-query-params';\n\nimport MessageContext from './MessageContext';\nimport WebsocketManager from '../components/Ws';\n\nconst uuidv4 = () => {\n  return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function(c) {\n    const r = (Math.random() * 16) | 0,\n      v = c === \"x\" ? r : (r & 0x3) | 0x8;\n    return v.toString(16);\n  });\n};\n\nconst MessageProvider = ({ children }) => {\n  const [srcVideo, setSrcVideo] = useState('');\n  const [ time, setTime] = useState(0.0);\n  const [ current, setCurrent ] = useState(true);\n  const [ roomName, setRoomName ] = useState('');\n  const [ message, setMessage] = useState('');\n  const [messageHistory, setMessageHistory] = useState([]);\n  const [ readyState, setReadyState] = useState(false);\n\n  const [queryRoom] = useQueryParam('room', StringParam);\n\n  const retrieveData = (data) => {\n    data.msg ? retrieveMessage(data) : retrieveCommand(data);\n  }\n\n  useEffect(() => {\n    if (queryRoom) {\n      setRoomName(queryRoom);\n    }\n  }, [queryRoom])\n\n  const retrieveMessage = (message) => {\n    setMessageHistory(prev => {\n      if (prev.length > 25) {\n        const [, ...rest] = prev;\n\n        return [...rest, { ...message, id: uuidv4() }];\n      }\n\n      return [...prev, { ...message, id: uuidv4() }]\n    });\n  };\n\n  const retrieveCommand = ({ command, argument }) => {\n    if (command === 'video') {\n      localStorage.setItem('last-video', argument);\n      setSrcVideo(argument);\n    }\n    if (command === 'pause') {\n      setCurrent(false);\n    }\n    if (command === 'play') {\n      setCurrent(true);\n    }\n\n    if (command === 'seek') {\n      setTime(argument);\n    }\n  };\n\n  const sendMessage = (message) => {\n    // The id here shout be generated in the backend side.\n    setMessage(JSON.stringify({ ...message, id: uuidv4(), room: roomName }));\n  }\n\n  return (\n    <MessageContext.Provider value={{\n      sendMessage,\n      messageHistory,\n      srcVideo,\n      current,\n      time,\n      roomName,\n      setRoomName,\n      readyState\n    }}>\n      { children }\n      {\n        roomName ?\n          <WebsocketManager\n            roomName={roomName}\n            retrieveData={retrieveData}\n            message={message}\n            setReadyState={setReadyState}\n          /> : <></>\n      }\n    </MessageContext.Provider>\n  )\n}\n\nexport default MessageProvider;\n\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport Box from '@material-ui/core/Box';\n\nconst useStyles = makeStyles({\n  container: {\n    width: '100%',\n    height: ' 100vh',\n    display: 'flex',\n    flexDirection: 'column',\n    background: 'black'\n  }\n});\n\nconst Container = ({ children }) => {\n  const classes = useStyles();\n\n  return (\n    <Box className={classes.container}>\n      { children }\n    </Box>\n  );\n};\n\nexport default Container\n","import React from 'react';\nimport Card from '@material-ui/core/Card';\nimport Box from '@material-ui/core/Box';\nimport Avatar from '@material-ui/core/Avatar';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles({\n  avatarContainer: {\n    background: 'transparent',\n    display: 'flex',\n    margin: '5px'\n  },\n  avatar: {\n    width: 30,\n    height: 30\n  },\n  card: {\n    background: '#0000007d',\n    display: 'flex',\n    opacity: '1',\n    wordBreak: 'break-all'\n  },\n  messageContainer: {\n    margin: 'auto 4px',\n    minWidth: 50\n  },\n  message: {\n    lineHeight: '1.225',\n    display: 'flex',\n    margin: '5px 0px',\n    padding: '0px 4px',\n    fontSize: '1.0rem',\n    color: 'white'\n  },\n  author: {\n    lineHeight: '1.225',\n    display: 'flex',\n    margin: '4px 0px 0px 3px',\n    fontSize: '1.0rem',\n    color: '#20d0a8',\n    fontWeight: 'bold'\n  }\n});\n\nfunction MessageCard({ message, author, color, avatar }) {\n  const classes = useStyles();\n\n  return (\n    <Card className={classes.card}>\n      {avatar && <Box className={classes.avatarContainer}>\n        <Avatar className={classes.avatar} />\n      </Box>}\n      <Box className={classes.messageContainer}>\n        <Typography className={classes.author}\n          style={{ color: color }}>\n          {author}\n        </Typography>\n        <Typography className={classes.message}>\n          {message}\n        </Typography>\n      </Box>\n    </Card >\n  )\n}\n\nexport default MessageCard\n","import React, { useContext, useEffect, useState, useRef } from 'react'\nimport Fade from 'react-reveal/Fade';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport MessageCard from './MessageCard'\nimport MessageContext from \"../../MessageContext/MessageContext\";\n\nconst useStyles = makeStyles({\n  container: {\n    width: '40vh',\n    background: 'transparent',\n    display: 'flex',\n    overflow: 'scroll',\n    flexDirection: 'column'\n  },\n  messageContainer: {\n    margin: '8px 5px 0px 5px',\n    display: 'flex',\n    justifyContent: 'flex-start'\n  },\n});\n\nconst TIME_TO_DISAPPEAR = 6500;\n\nconst FadeCard = ({ message, author, color, avatar }) => {\n  const { messageContainer } = useStyles();\n  const [visible, setVisible] = useState(false);\n\n  useEffect(() => {\n    setVisible(true);\n    setTimeout(() => {\n      setVisible(false);\n    }, TIME_TO_DISAPPEAR);\n  }, []);\n\n  return (\n    <>\n      <Fade when={visible}>\n        <Box className={messageContainer}>\n          <MessageCard message={message} author={author} color={color} avatar={avatar} />\n        </Box>\n      </Fade>\n    </>);\n};\n\nconst ChatContainer = () => {\n  const classes = useStyles();\n  const { messageHistory: messages } = useContext(MessageContext);\n\n  const containerRef = useRef(null);\n\n  useEffect(() => {\n    setTimeout(() => {\n      containerRef.current.scrollTop = 999999999999999999;\n    }, 100);\n  }, [messages]);\n\n  return (\n    <div className={classes.container} ref={containerRef}>\n      {\n        messages.map((message) =>\n            <FadeCard key={message.id}\n              message={message.msg}\n              author={message.author}\n              color={message.color}\n              avatar={message.avatar} />\n        )\n      }\n    </div>\n  )\n};\n\nexport default ChatContainer\n","import React, { useContext, useEffect, useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport ReactPlayer from 'react-player';\nimport MessageContext from \"../../MessageContext/MessageContext\";\n\nconst useStyles = makeStyles({\n  video: {\n    width: '100% !important',\n    height: 'inherit !important',\n    position: 'absolute',\n  }\n})\n\nconst Video = () => {\n  const [ lastVideo, setLastVideo ] = useState('');\n  const [ playedSeconds, setPlayedSeconds] = useState(0.0);\n  const [ player, setPlayer ] = useState(null);\n  const { sendMessage, srcVideo, current, time } = useContext(MessageContext);\n\n  const classes = useStyles();\n\n  useEffect(() => {\n    setLastVideo(localStorage.getItem('last-video'));\n  }, []);\n\n  useEffect(() => {\n    if (time !== 0.0) {\n      player.seekTo(time);\n    }\n  }, [time]);\n\n  const pauseHandler = () => {\n    current && sendMessage({ msg: '/pause video' });\n  };\n  const payHandler = () => {\n    !current && sendMessage({ msg: '/play video' });\n  };\n\n  const readyHandler = (player) => {\n    setPlayer(player);\n  }\n\n  const progressHandler = (time) => {\n    const diffTimes = time.playedSeconds - playedSeconds;\n    if (diffTimes > 2 || diffTimes < 0) {\n      sendMessage({ msg: '/seek ' + time.playedSeconds })\n    }\n    setPlayedSeconds(time.playedSeconds);\n  }\n\n\n\n  return (\n    <ReactPlayer\n      className={classes.video}\n      url={srcVideo || lastVideo}\n      playing={current}\n      controls\n      onProgress={progressHandler}\n      onReady={readyHandler}\n      onPause={pauseHandler}\n      onPlay={payHandler}\n    />\n  )\n};\n\nexport default Video\n","import React from 'react'\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ChatContainer from '../Chat/ChatContainer';\nimport Video from './Video'\n\nconst useStyles = makeStyles({\n  videoContainer: {\n    width: '100%',\n    height: '92vh',\n    background: 'black',\n    display: 'flex',\n    alignItems: 'center',\n  },\n  chatContainer: {\n    position: 'relative',\n    height: '70%',\n    display: 'flex',\n    marginLeft: 25\n  }\n});\n\nconst VideoContainer = () => {\n  const classes = useStyles();\n\n  return (\n    <Box className={classes.videoContainer} >\n      <Video />\n      <Box className={classes.chatContainer}>\n        <ChatContainer />\n      </Box>\n    </Box >\n  )\n};\n\nexport default VideoContainer\n","import React, { useContext, useRef } from 'react';\nimport Box from '@material-ui/core/Box';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { IconButton, InputBase } from '@material-ui/core';\nimport MoodIcon from '@material-ui/icons/Mood';\nimport SendIcon from '@material-ui/icons/Send';\n\nimport MessageContext from \"../../MessageContext/MessageContext\";\n\nconst useStyles = makeStyles({\n  containerInput: {\n    width: '35%',\n    background: '#0d0d0d',\n    display: 'flex',\n    flexDirection: 'row',\n    border: '1px solid #5a5a5a',\n    borderRadius: '5px',\n    margin: '10px auto'\n  },\n  emoji: {\n    width: '50px',\n    background: 'transparent',\n    color: '#c0c0c0',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  submit: {\n    width: '50px',\n    background: 'transparent',\n    display: 'flex',\n    justifyContent: 'center',\n    alignItems: 'center',\n    color: '#c0c0c0'\n  },\n  input: {\n    width: '95%',\n    color: '#c0c0c0',\n  }\n});\n\nconst validInternCommands = ['name'];\n\nconst palette = [\n  '#0baf15', '#FD5B78', '#FF6037',\n  '#FF9966', '#FF9933', '#FFCC33',\n  '#FFFF66', '#CCFF00', '#66FF66',\n  '#50BFE6', '#FF6EFF', '#20d0a8'];\n\nconst myColor = palette[Math.round(Math.random() * palette.length)];\n\nconst InputMessage = () => {\n  const { sendMessage, readyState } = useContext(MessageContext);\n  const classes = useStyles();\n\n  const inputMessageRef = useRef('');\n\n  const commandHandler = (validInternCommands, command) => {\n    const [, internCommand, argument] = command.match(/^\\/(\\w*)\\s(.*)/);\n\n    if (validInternCommands.includes(internCommand)) {\n      if (internCommand === 'name') {\n        localStorage.setItem('user-name', argument);\n      }\n    }\n  }\n\n  const submitMessage = ({ value, charCode }, inputRef) => {\n    const message = value.trim();\n\n    if (charCode === 13 && message !== '' && readyState) {\n      const isNameCommand = message.split('/name')[1];\n\n      if (isNameCommand) {\n        commandHandler(validInternCommands, message);\n      } else {\n        sendMessage({ msg: message, color: myColor, author: localStorage.getItem('user-name') || 'Anonymous' });\n      }\n\n      inputRef.current.value = '';\n    }\n  };\n  return (\n    <Box className={classes.containerInput}>\n      <IconButton className={classes.emoji} aria-label='emoji'>\n        <MoodIcon size='small' />\n      </IconButton>\n      <InputBase className={classes.input}\n        placeholder='Write a message'\n        onKeyPress={({ target: { value }, charCode }) => submitMessage({ value, charCode }, inputMessageRef)}\n        inputRef={inputMessageRef} />\n      <IconButton className={classes.submit} aria-label='send'>\n        <SendIcon size='small' />\n      </IconButton>\n    </Box>\n  )\n};\n\nexport default InputMessage\n","import React, { useContext, useRef } from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { InputBase, Button, Box } from '@material-ui/core';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport MessageContext from '../../MessageContext/MessageContext';\n\nconst useStyles = makeStyles({\n  root: {\n    width: '185px',\n    fontFamily: 'monospace',\n    fontSize: '15px',\n    border: '1px solid #c0c0c0',\n    fontWeight: 'lighter',\n    color: '#bbb8b8',\n    padding: '10px 10px',\n    borderRadius: '5px',\n  },\n  icon: {\n    color: 'white'\n  },\n  box: {\n    width: '100%',\n    height: '100vh'\n  },\n  head: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    width: '100%',\n    height: '5vh',\n  },\n  input: {\n    textAlign: 'center'\n  },\n  body: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-evenly',\n    alignItems: 'center',\n    width: '100%',\n    height: '25vh'\n  },\n  btn: {\n    color: 'white',\n    border: '1px solid #191919',\n    fontWeight: 'lighter',\n    width: '10vh',\n    background: '#8a888cbd',\n    borderRadius: '24px'\n  }\n\n})\nconst CreateRoom = ({ close, back }) => {\n  const classes = useStyles()\n\n  const { setRoomName } = useContext(MessageContext);\n\n  const createRoom = (ref) => {\n    setRoomName(ref.current.value);\n    close();\n  };\n\n  const inputRef = useRef('');\n\n  return (\n    <Box className={classes.box}>\n      <Box className={classes.head} >\n        <IconButton className={classes.icon} onClick={back} >\n          <ArrowBackIcon />\n        </IconButton>\n      </Box>\n      <Box className={classes.body}>\n        <InputBase\n          classes={{\n            root: classes.root,\n            input: classes.input\n          }}\n          placeholder='Create a room name'\n          inputRef={inputRef}>\n        </InputBase>\n        <Button className={classes.btn} onClick={() => createRoom(inputRef)}>\n          Create\n       </Button>\n      </Box>\n    </Box>\n  )\n}\n\nexport default CreateRoom\n","import React, { useContext, useRef } from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { InputBase, Button, Box } from '@material-ui/core';\nimport ArrowBackIcon from '@material-ui/icons/ArrowBack';\nimport IconButton from '@material-ui/core/IconButton';\n\nimport MessageContext from \"../../MessageContext/MessageContext\";\n\nconst useStyles = makeStyles({\n  root: {\n    width: '185px',\n    fontFamily: 'monospace',\n    fontSize: '15px',\n    border: '1px solid #c0c0c0',\n    fontWeight: 'lighter',\n    color: '#bbb8b8',\n    padding: '10px 10px',\n    borderRadius: '5px'\n  },\n  icon: {\n    color: 'white',\n  },\n  head: {\n    display: 'flex',\n    alignItems: 'center',\n    justifyContent: 'flex-start',\n    width: '100%',\n    height: '5vh',\n  },\n  body: {\n    display: 'flex',\n    flexDirection: 'column',\n    justifyContent: 'space-evenly',\n    alignItems: 'center',\n    width: '100%',\n    height: '25vh'\n  },\n  input: {\n    textAlign: 'center'\n  },\n  box: {\n    width: '100%',\n    height: '100vh'\n  },\n  btn: {\n    color: 'white',\n    border: '1px solid #191919',\n    fontWeight: 'lighter',\n    width: '10vh',\n    background: '#8a888cbd',\n    borderRadius: '24px'\n  }\n})\n\nconst JoinRoom = ({ close, back }) => {\n  const classes = useStyles()\n\n  const { setRoomName } = useContext(MessageContext);\n\n  const createRoom = (ref) => {\n    setRoomName(ref.current.value);\n    close();\n  };\n\n  const inputRef = useRef('');\n\n  return (\n    <Box className={classes.box}>\n      <Box className={classes.head} >\n        <IconButton className={classes.icon} onClick={back}>\n          <ArrowBackIcon />\n        </IconButton>\n      </Box>\n      <Box className={classes.body}>\n        <InputBase\n          classes={{\n            root: classes.root,\n            input: classes.input\n          }}\n          placeholder='Enter a room name'\n          inputRef={inputRef}>\n        </InputBase>\n        <Button\n          className={classes.btn}\n          onClick={() => createRoom(inputRef)}>\n          Join\n        </Button>\n      </Box>\n    </Box>\n  )\n}\n\nexport default JoinRoom\n","import React from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Button } from '@material-ui/core';\n\nconst useStyles = makeStyles({\n  button: {\n    textTransform: 'initial',\n    width: '155px',\n    fontFamily: 'monospace',\n    fontSize: '15px',\n    border: '1px solid #c0c0c0',\n    fontWeight: 'lighter',\n    color: '#bbb8b8'\n  },\n})\n\nconst OptionsMenu = ({ create, join }) => {\n  const classes = useStyles()\n  return (\n    <>\n      <Button className={classes.button} onClick={create}>\n        Create Room\n      </Button>\n      <Button className={classes.button} onClick={join}>\n        Join Room\n      </Button>\n    </>\n  )\n}\n\nexport default OptionsMenu\n","import React, { useState } from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Box } from '@material-ui/core';\nimport CreateRoom from './CreateRoom'\nimport JoinRoom from './JoinRoom'\nimport OptionsMenu from './OptionsMenu'\n\nconst useStyles = makeStyles({\n  box: {\n    borderRadius: '10px',\n    width: '50vh',\n    height: '30vh',\n    background: 'transparent',\n    display: 'flex',\n    alignItems: 'center',\n    flexDirection: 'column',\n    justifyContent: 'space-evenly',\n    border: '1px solid #c0c0c0',\n    outline: 'none'\n  },\n})\n\nconst MenuRoom = ({ close }) => {\n  const [flag, setFlag] = useState({\n    create: false,\n    join: false\n  })\n  const handleCreate = () => {\n    setFlag({\n      ...flag,\n      create: true,\n    })\n  }\n  const handleJoin = () => {\n    setFlag({\n      ...flag,\n      join: true,\n    })\n  }\n  const handleBackMenu = () => {\n    setFlag({\n      ...flag,\n      create: false,\n      join: false\n    })\n  }\n\n  const classes = useStyles()\n\n  return (\n    <Box className={classes.box}>\n      {\n        flag.create ? <CreateRoom close={close} back={handleBackMenu} />\n          : flag.join ? <JoinRoom close={close} back={handleBackMenu} />\n            : <OptionsMenu create={handleCreate} join={handleJoin} />\n      }\n    </Box>\n  )\n}\n\nexport default MenuRoom\n","import React, {useContext, useEffect, useState} from 'react'\nimport { makeStyles } from '@material-ui/core/styles';\nimport { Modal } from '@material-ui/core';\nimport MenuRoom from './MenuRoom'\nimport MessageContext from \"../../MessageContext/MessageContext\";\n\nconst useStyles = makeStyles({\n  modal: {\n    alignItems: 'center',\n    display: 'flex',\n    justifyContent: 'center',\n  },\n})\n\nconst RoomContainer = () => {\n  const [open, setOpen] = useState();\n\n  const { roomName } = useContext(MessageContext);\n\n  useEffect(() => {\n    if (roomName) {\n      setOpen(false);\n    } else {\n      setOpen(true);\n    }\n  }, [ roomName ])\n\n  const classes = useStyles();\n\n  const handleClose = () => {\n    setOpen(false)\n  }\n  return (\n    <Modal\n      open={open}\n      className={classes.modal}\n    >\n      <MenuRoom close={handleClose} />\n    </Modal>\n  )\n};\n\nexport default RoomContainer\n","import React from 'react';\nimport { QueryParamProvider } from 'use-query-params';\n\nimport MessageProvider from './MessageContext/MessageProvider';\nimport Container from './components/Container/Container';\nimport VideoContainer from './components/Video/VideoContainer';\nimport InputMessage from './components/Chat/InputMessage';\nimport RoomContainer from './components/Room/RoomContainer';\n// import WebsocketManager from './components/Ws';\n\nconst App = () => {\n  return (\n    <>\n      <QueryParamProvider>\n        <MessageProvider>\n          <RoomContainer/>\n          <Container>\n            <VideoContainer />\n            <InputMessage />\n          </Container>\n        </MessageProvider>\n      </QueryParamProvider>\n    </>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}